<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const ContactManager = {
            contacts: [],
            nextId: 1,
            addContact() {
                const name = prompt("Nhập tên: ");
                const email = prompt("Nhập email: ");
                const phone = prompt("Nhập số điện thoại: ");
                if (!name || !email || !phone) {
                    console.log("Thông tin không hợp lệ!");
                    return;
                }
                const contact = { id: this.nextId++, name, email, phone };
                this.contacts.push(contact);
                console.log("Liên hệ đã được thêm thành công!");
            },
            displayContacts() {
                if (this.contacts.length === 0) {
                    console.log("Danh bạ trống!");
                } else {
                    console.table(this.contacts);
                }
            },
            searchByPhone() {
                const phone = prompt("Nhập số điện thoại cần tìm: ");
                const result = this.contacts.find(contact => contact.phone === phone);
                if (result) {
                    console.log("Tìm thấy liên hệ:", result);
                } else {
                    console.log("Không tìm thấy liên hệ nào với số điện thoại này.");
                }
            },
            updateContact() {
                const id = parseInt(prompt("Nhập ID của liên hệ cần cập nhật: "), 10);
                const contact = this.contacts.find(contact => contact.id === id);
                if (!contact) {
                    console.log("Không tìm thấy liên hệ!");
                    return;
                }
                const newName = prompt("Nhập tên mới (bỏ qua để giữ nguyên): ") || contact.name;
                const newEmail = prompt("Nhập email mới (bỏ qua để giữ nguyên): ") || contact.email;
                const newPhone = prompt("Nhập số điện thoại mới (bỏ qua để giữ nguyên): ") || contact.phone;
                contact.name = newName;
                contact.email = newEmail;
                contact.phone = newPhone;
                console.log("Cập nhật thành công!");
            },
            deleteContact() {
                const id = parseInt(prompt("Nhập ID của liên hệ cần xóa: "), 10);
                const index = this.contacts.findIndex(contact => contact.id === id);
                if (index !== -1) {
                    this.contacts.splice(index, 1);
                    console.log("Xóa thành công!");
                } else {
                    console.log("Không tìm thấy liên hệ để xóa!");
                }
            }
        };
        do {
            const choice = prompt("Chọn chức năng: \n1. Thêm liên hệ\n2. Hiển thị danh bạ\n3. Tìm kiếm theo số điện thoại\n4. Cập nhật liên hệ\n5. Xóa liên hệ\n6. Thoát");
            switch (choice) {
                case "1":
                    ContactManager.addContact();
                    break;
                case "2":
                    ContactManager.displayContacts();
                    break;
                case "3":
                    ContactManager.searchByPhone();
                    break;
                case "4":
                    ContactManager.updateContact();
                    break;
                case "5":
                    ContactManager.deleteContact();
                    break;
                case "6":
                    console.log("Thoát chương trình.");
                    break;
                default:
                    console.log("Lựa chọn không hợp lệ!");
            }
        } while (confirm("Bạn có muốn tiếp tục?"));
    </script>
</body>

</html>